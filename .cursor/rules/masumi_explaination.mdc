---
description: 
globs: 
alwaysApply: true
---
Hereâ€™s a compact and Cursor-friendly breakdown of the complete Masumi documentation and Masumi Quickstart Template â€” everything you need to build, monetize, and integrate an agentic service in your Agno/CrewAI project.

â¸»

ğŸ§  MASUMI OVERVIEW

Masumi is a decentralized protocol that enables:
	â€¢	âœ… Agent discovery via registry
	â€¢	ğŸ’° On-chain payments between agents/users
	â€¢	ğŸ§¾ Transparent identity and output verification
	â€¢	ğŸ“¡ Standardized APIs for integration with orchestration tools

â¸»

ğŸ”Œ ENDPOINTS TO IMPLEMENT (Masumi MIP-003 Standard)

Required for every Masumi-compatible Agentic Service

Endpoint	Method	Purpose
/start_job	POST	Starts a job with input payload
/status	GET	Returns job status using job_id
/provide_input	POST	Optionally submit additional inputs
/availability	GET	Healthcheck, returns 200 OK if active
/input_schema	GET	Returns full JSONSchema of accepted input

ğŸ§  Implement these in your FastAPI backend (api/main.py) and connect to your Agent logic (e.g., mint_job.py).

â¸»

ğŸ’¸ MASUMI PAYMENT API

Add monetization to your agent with these endpoints:

Endpoint	Purpose
/purchase/ (POST)	Creates a new payment request
/proceedpaymenttransaction/{uid}/gettransactionstate (GET)	Gets payment status
/proceedpaymenttransaction/{uid}/submittransaction (POST)	Submits signed payment
/proceedpaymenttransaction/{uid}/canceltransaction (POST)	Cancels the payment if needed

â¡ï¸ Use .env to store your API key (token=...)
â¡ï¸ Pricing logic goes in a pricing.json (e.g. {"price_ada": 3})

â¸»

ğŸ§© AGENT REGISTRY ENDPOINTS

Register your agent and make it discoverable:

Endpoint	Purpose
/registry/entry/{agent_id}	View public metadata about your agent
/registry/sources	Lists all available registered agents

Metadata includes: agent name, description, pricing, categories, etc.

â¸»

ğŸ” MASUMI AGENT IDENTITY

To give your agent an identity:
	â€¢	Sign a proof-of-ownership (public key from wallet)
	â€¢	Use the identity to build trust & transparency
	â€¢	Link your agent to a Cardano wallet (used for earnings)

â¸»

ğŸ§¾ MASUMI DECISION LOGGING

Add transparency by logging hashes of agent outputs to blockchain:
	â€¢	output_hash = hash(output)
	â€¢	Submit via Masumi endpoint to enable verifiability
	â€¢	Buyers can check logs via explorer/registry

â¸»

âš™ï¸ ENV CONFIG (Cursor: .env.example)

MASUMI_API_KEY=...
MASUMI_PAYMENT_URL=https://api.masumi.network
MASUMI_REGISTRY_URL=https://api.masumi.network
HOT_WALLET_MNEMONIC=...
NMKR_API_KEY=...



â¸»

ğŸ§± QUICKSTART PROJECT STRUCTURE

From the Masumi Quickstart Template:

project/
â”œâ”€â”€ api/                 # FastAPI Masumi endpoints
â”‚   â””â”€â”€ main.py
â”œâ”€â”€ agent/               # CrewAI / Agno agent definition
â”‚   â””â”€â”€ your_agent.py
â”œâ”€â”€ pricing.json         # Monetization rules
â”œâ”€â”€ .env.example         # Secrets config
â”œâ”€â”€ README.md

Cursor setup:

{
  "entrypoints": {
    "agent": "agent/your_agent.py",
    "api": "api/main.py"
  },
  "env": ".env"
}



â¸»

ğŸ§ª DEV FLOW (Cursor-ready)

uvicorn api.main:app --reload  # Start agentic service
curl http://localhost:8000/start_job  # Test endpoint

Streamlit UI (optional) â†’ Posts directly to /start_job, polls /status

â¸»



